<div class="dashboard-container">
    <!-- Summary Cards -->
    <div class="stats-grid">
      <div class="stat-card">
        <svg width="36" height="36" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="#007bff" opacity="0.1"/><path d="M7 17V7h10v10H7z" stroke="#007bff" stroke-width="2"/></svg>
        <h3>Total Job Offers</h3>
        <p>{{ totalOffers }}</p>
      </div>
      <div class="stat-card">
        <svg width="36" height="36" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="#28a745" opacity="0.1"/><path d="M12 7v10M7 12h10" stroke="#28a745" stroke-width="2"/></svg>
        <h3>Active Job Offers</h3>
        <p>{{ activeOffers }}</p>
      </div>
      <div class="stat-card">
        <svg width="36" height="36" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="#ffc107" opacity="0.1"/><path d="M8 12h8M12 8v8" stroke="#ffc107" stroke-width="2"/></svg>
        <h3>Total Applications</h3>
        <p>{{ totalApplications }}</p>
      </div>
      <div class="stat-card profile-progress">
        <svg width="36" height="36" viewBox="0 0 36 36"><circle cx="18" cy="18" r="16" fill="#007bff" opacity="0.08"/><circle cx="18" cy="18" r="14" fill="none" stroke="#007bff" stroke-width="4" stroke-dasharray="88" [attr.stroke-dashoffset]="88 - (profileCompletion/100)*88" stroke-linecap="round"/><text x="18" y="22" text-anchor="middle" font-size="12" fill="#007bff">{{ profileCompletion }}%</text></svg>
        <h3>Profile Completion</h3>
        <p>{{ profileCompletion }}%</p>
      </div>
    </div>
  
    <!-- Analytics & Graphs Section (moved to top) -->
    <div class="dashboard-analytics">
      <div class="analytics-card">
        <h2><span class="section-icon">üìà</span> Applications Over Time</h2>
        <div style="height: 220px">
            <canvas baseChart
            [data]="applicationsLineChartData"
            [options]="applicationsLineChartOptions"
            [type]="'line'">
          </canvas>
          
        </div>
      </div>
      <div class="analytics-card">
        <h2><span class="section-icon">ü•ß</span> Job Offer Status</h2>
        <div style="height: 220px">
          <canvas baseChart
            [data]="statusDoughnutChartData"
            [options]="statusDoughnutChartOptions"
            [type]="'doughnut'">
          </canvas>
        </div>
      </div>
      <div class="analytics-card">
        <h2><span class="section-icon">üèÖ</span> Top Job Offers (Bar)</h2>
        <div style="height: 220px">
          <canvas baseChart
            [data]="topOffersBarChartData"
            [options]="topOffersBarChartOptions"
            [type]="'bar'"
            >
          </canvas>
        </div>
      </div>
    </div>
  
    <hr class="dashboard-divider" />
  
    <div class="dashboard-main-content">
      <!-- Top Job Offers -->
      <div class="section">
        <h2><span class="section-icon">üèÜ</span> Top Job Offers</h2>
        <div class="top-offers-grid">
          <div class="top-offer-card" *ngFor="let offer of topJobOffers">
            <div class="offer-title">{{ offer.title }}</div>
            <div class="offer-apps"><svg width="18" height="18" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="#007bff" opacity="0.1"/><path d="M12 8v4l3 3" stroke="#007bff" stroke-width="2"/></svg> {{ offer.applicationsCount }} Applications</div>
            <div class="offer-status" [ngClass]="offer.status.toLowerCase()">{{ offer.status }}</div>
          </div>
        </div>
      </div>
  
      <!-- Recent Applications -->
      <div class="section">
        <h2><span class="section-icon">üïë</span> Recent Applications</h2>
        <table class="dashboard-table" *ngIf="recentApplications.length > 0">
          <thead>
            <tr>
              <th>Applicant</th>
              <th>Job Title</th>
              <th>Date</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let app of recentApplications">
              <td>{{ app.applicant }}</td>
              <td>{{ app.jobTitle }}</td>
              <td>{{ app.date | date:'shortDate' }}</td>
              <td><span class="badge" [ngClass]="app.status.toLowerCase()">{{ app.status }}</span></td>
            </tr>
          </tbody>
        </table>
        <p *ngIf="recentApplications.length === 0">No recent applications.</p>
      </div>
  
      <!-- Activity Timeline -->
      <div class="section">
        <h2><span class="section-icon">üìà</span> Activity Timeline</h2>
        <ul class="timeline-list">
          <li *ngFor="let event of activityTimeline">
            <span class="timeline-icon">{{ event.icon }}</span>
            <span class="timeline-action">{{ event.action }}</span>
            <span class="timeline-date">{{ event.date | date:'shortDate' }}</span>
          </li>
        </ul>
      </div>
  
      <!-- Recent Job Offers (improved) -->
      <div class="section">
        <h2><span class="section-icon">üìã</span> Recent Job Offers</h2>
        <table class="dashboard-table" *ngIf="jobOffers.length > 0">
          <thead>
            <tr>
              <th>Title</th>
              <th>Status</th>
              <th>Posted</th>
              <th>Applications</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let offer of jobOffers.slice(0, 5)">
              <td>{{ offer.title }}</td>
              <td><span class="badge" [ngClass]="offer.status.toLowerCase()">{{ offer.status }}</span></td>
              <td>{{ offer.postedDate | date:'shortDate' }}</td>
              <td>{{ offer.applicationsCount }}</td>
            </tr>
          </tbody>
        </table>
        <p *ngIf="jobOffers.length === 0">No job offers posted yet.</p>
      </div>
  
      <!-- Quick Actions -->
      <div class="section quick-actions">
        <h2><span class="section-icon">‚ö°</span> Quick Actions</h2>
        <button class="action-btn" routerLink="/backoffice/job-offers">
          <svg width="20" height="20" fill="none" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="4" fill="#007bff" opacity="0.1"/><path d="M8 12h8M12 8v8" stroke="#007bff" stroke-width="2"/></svg>
          Manage Job Offers
        </button>
        <button class="action-btn" routerLink="/backoffice/post-job-offers">
          <svg width="20" height="20" fill="none" viewBox="0 0 24 24"><rect x="4" y="4" width="16" height="16" rx="4" fill="#28a745" opacity="0.1"/><path d="M12 8v8M8 12h8" stroke="#28a745" stroke-width="2"/></svg>
          Post a New Job
        </button>
      </div>
    </div>
  </div>
  